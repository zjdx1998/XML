!function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=10)}([function(e,t,r){"use strict";function n(e){var t,r,n=e+"=",o=document.cookie.split(";");for(t=0;t<o.length;t++){for(r=o[t];" "==r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(n))return r.substring(n.length,r.length).replace(/\"/g,"")}return null}Object.defineProperty(t,"__esModule",{value:!0}),t.ajax=function(e){e.data=e.data||{},!1!==e.withCk&&(e.data.ck=n("ck")),e.error=e.error||function(e){return console.log(e)},e.ajaxError=e.ajaxError||function(e){return console.log("无网络连接， 请稍后再试")},$.ajax($.extend({type:e.type||"GET",url:e.url,data:e.data,dataType:e.dataType||"json",timeout:e.timeout,xhrFields:{withCredentials:!0},success:function(t){t.error?e.error?e.error(t.error,t.data,t):console.log(t.error):e.success&&e.success(t)},error:function(t){if(0===t.status)e.ajaxError&&e.ajaxError();else if(400===t.status)e.accessError&&e.accessError();else{var r=$.parseJSON(t.responseText);e.error&&e.error(r.localized_message,r)}},complete:function(t){e.complete&&e.complete()}},e.extra))},t.autoBind=function(e){for(var t={},r=function(t){return e[t]instanceof Function&&!t.match(/^component|^render$|^constructor$/)},n=[].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(Object.keys(e).filter(r))),o=e;o=Object.getPrototypeOf(o);){var a=Object.getOwnPropertyNames(o);if(a.indexOf("setState")>=0)break;n=n.concat(a.filter(r))}return n.forEach(function(r){t[r]=e[r],e[r]=e[r].bind(e)}),t},t.flatten=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e.id},r={ids:null,entities:{}};return r.ids=e.map(function(e){var n=t(e);return r.entities[n]=e,n}),r},t.getQuery=function(e){for(var t,r,n,o=location.search.substring(1).split("&"),a=0,c=o.length;a<c;a++)if(-1!=(t=o[a].indexOf("="))&&(r=o[a].substring(0,t),n=o[a].substring(t+1),e===r))return decodeURIComponent(n);return""},t.get_cookie=n,window.React&&React.PropTypes,t.DOUBAN="https://www.douban.com";var o="https://m.douban.com";location.href.indexOf("localhost")>-1&&(o=""),t.VERIFY_API=o+"/rexxar/api/v2/${type}/${id}/verify_users",t.README_API=o+"/rexxar/api/v2/${type}/${id}/verify_user_infos",t.LOGIN_URL="https://www.douban.com/login",t.ISLOGIN=n("ck"),t.answerObj=Object.assign({},window.answerObj),t.TXT={book:"图书",movie:"电影",tv:"电视剧",music:"音乐"}},function(e,t){e.exports=ReactDOM},function(e,t){e.exports=React},,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();r(0);var o=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,React.Component),n(t,[{key:"render",value:function(){var e=this.props,t=(e.tabType,e.items),r=e.classname,n=t[0];return React.createElement("div",{className:"comment "+r},React.createElement("div",{className:"comment-title"},React.createElement("a",{className:"nowrap",href:n.url},n.title)),React.createElement("div",{className:"comment-content"},n.abstract))}}]),t}();t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(0),a=o.answerObj.TYPE,c=o.answerObj.USER_ID,u=void 0===c?"":c,i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={isFollowed:e.author&&e.author.followed},(0,o.autoBind)(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,React.Component),n(t,[{key:"addcontact",value:function(e){var t=this;o.ISLOGIN||(location.href=o.LOGIN_URL),(0,o.ajax)({url:"https://www.douban.com/j/contact/addcontact_for_usercard",type:"POST",dataType:"jsonp",data:{people:e,from:a},success:function(e){t.setState({isFollowed:!0})}})}},{key:"render",value:function(){var e=this.state.isFollowed,t=this.props,r=t.author,n=void 0===r?{}:r,c=t.verify_roles,i=n.id,s=n.name,l=n.avatar,f=n.url,p=n.followers_count,d=n.verify_type,b=(4===d?"url(/pics/ic_verify@2x.png), ":"")+"url("+l+")",y=null;return y=e?React.createElement("span",{className:"followed"},"已关注"):React.createElement("a",{href:"javascript:;",className:"a-btn-add"+(o.ISLOGIN?"":" j a_show_login"),onClick:this.addcontact.bind(this,i)},"关注"),React.createElement("div",{className:"author-info"},u===i?null:React.createElement("div",{className:"rr"},n.in_blacklist?null:y),React.createElement("a",{className:"author-link",href:f,target:"_blank",title:s},React.createElement("div",{className:"avatar "+(d?"verify-avatar":""),title:s,style:{backgroundImage:b}}),React.createElement("div",{className:"info"},React.createElement("span",{className:"name"}," ",s," "),React.createElement("span",{className:"verify"},c?o.TXT[a]+c:""," / ",p," 人关注"))))}}]),t}();t.default=i},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(0),c=n(r(8)),u=n(r(7));a.answerObj.TYPE,a.answerObj.SUBJECT_ID,a.answerObj.USER_ID,a.answerObj.AUTHOR_ID;var i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={},(0,a.autoBind)(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,React.Component),o(t,[{key:"renderAuthorDesc",value:function(){var e=this.props.verify_user;if(!e)return null;e.articles;var t=e.article_count;return React.createElement("div",{className:"author-desc"},React.createElement("div",{className:"author-tabs"},React.createElement("span",null,"作者自述 ",t>0?t:"")),React.createElement("div",{className:"author-tabcon"},React.createElement(u.default,{items:e.articles,count:t,classname:"on"})))}},{key:"render",value:function(){var e=this.props.verify_user,t=e.user,r=e.verify_roles,n=e.article_count;return e?React.createElement("div",{className:"author-item"},React.createElement(c.default,{author:t,verify_roles:r}),n>0?this.renderAuthorDesc():null,n>1?React.createElement("div",{className:"more"},"> ",React.createElement("a",{href:"/subject/"+a.answerObj.SUBJECT_ID+"/readme?user_id="+t.id},"更多自述",n,"篇")):null):null}}]),t}();t.default=i},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var o,a,c,u,i,s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=n(r(2)),f=(r(1),r(0)),p=n(r(9));r(17),o=f.answerObj.TYPE,a=f.answerObj.SUBJECT_ID,c=f.answerObj.ISALL,u=void 0!==c&&c,i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={start:0,count:2,total:0,verify_users:[]},(0,f.autoBind)(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),s(t,[{key:"componentDidMount",value:function(){this.getCreators()}},{key:"getCreators",value:function(){var e=this,t=this.state,r={start:t.start,count:t.count},n=f.VERIFY_API.replace("${type}",o).replace("${id}",a);(0,f.ajax)({url:n,type:"GET",data:r,success:function(t){e.setState({verify_users:t.verify_users,total:t.total})},error:function(e){console.log("xxx")}})}},{key:"render",value:function(){var e=this,t=this.state,r=t.verify_users,n=t.total,o="boolean"==typeof u?u:"true"===u.toLowerCase(),c=o?r:n>2?r.slice(0,2):r;return l.default.createElement("div",{className:"author-subject"},o?null:n>0?l.default.createElement("h2",null,"创作者在豆瓣 · · · · · · ",l.default.createElement("span",{className:"pl"},"(",l.default.createElement("a",{href:"/subject/"+a+"/creators"},"全部 ",n),")")):null,c.map(function(t,r){return l.default.createElement(p.default,{verify_user:t,key:r,getCreateUrl:e.getCreateUrl})}))}}]),t}(),ReactDOM.render(l.default.createElement(i,null),document.getElementById("author_subject"))},,,,,,,function(e,t){}]);